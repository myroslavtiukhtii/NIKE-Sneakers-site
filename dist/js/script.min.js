document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header");e.querySelector(".burger").addEventListener("click",()=>{e.classList.toggle("header--menu-active")}),window.addEventListener("scroll",function(){var t=document.querySelectorAll(".reveal");for(let e=0;e<t.length;e++){var n=window.innerHeight;t[e].getBoundingClientRect().top<n-150?t[e].classList.add("active"):t[e].classList.remove("active")}});const t=document.getElementById("upbtn");window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?t.style.display="flex":t.style.display="none"},t.addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0});let n=[{productTitle:"Air Maxi",productImg:"./img/topsneakers-image-1.png",productPrice:120},{productTitle:"React Gusto",productImg:"./img/topsneakers-image-2.png",productPrice:220},{productTitle:"Air Mini",productImg:"./img/topsneakers-image-3.png",productPrice:203},{productTitle:"Air Super",productImg:"./img/topsneakers-image-1.png",productPrice:240},{productTitle:"Reactis Peresto",productImg:"./img/topsneakers-image-2.png",productPrice:120}];const c=document.querySelector(".topsneakers__list");for(let e=0;e<n.length;e++)c.insertAdjacentHTML("beforeend",`
      <div class="sneakers-list__item">
        <img class="picture" src="${n[e].productImg}" alt="${n[e].productTitle}">
        <h3 class="productName">
            ${n[e].productTitle}
        </h3>
        <a class="link modal-link" aria-label="Icon link to modal window">
            $${n[e].productPrice}
            <svg class="icon">
                <use xlink:href="img/sprite.svg#new-link-icon"></use>
            </svg>
        </a>
      </div>`);tns({container:".my-slider",loop:!1,items:1.1,slideBy:1,nav:!1,autoplay:!1,fixedWidth:240,gutter:10,center:!1,edgePadding:10,speed:400,autoplayButtonOutput:!1,mouseDrag:!0,controlsContainer:"#customize-controls",responsive:{768:{items:2.1},1170:{items:3,gutter:120,fixedWidth:300}}});let l=document.querySelectorAll(".modal-link"),o=document.querySelector(".topsneakers__modal--back");document.getElementById("close-window").addEventListener("click",g),document.getElementById("cancel-order").addEventListener("click",g),document.getElementById("orderProduct").addEventListener("click",function(){L.push(parseInt(p.textContent.replace(/[^\d.]/g,"")));let t=0;for(let e=0;e<L.length;e++)t+=L[e];s.innerText="$ "+t,o.style.display="none",function(){{var e;0<L.length&&(e=parseInt(y.textContent.replace(/[^\d.]/g,"")),T+=e,k.innerHTML="Items: "+T,f.innerHTML=T)}!function(){let t={};t.title=a.innerHTML,t.img=u.src,t.quantity=y.textContent;var e=M.some(e=>e.title===t.title);e&&console.log("found");e||(M.push(t),console.log("item added"));for(let e=0;e<M.length;e++)h.insertAdjacentHTML("beforeend",`
      <li class="items__product">
          <h4 class="product__title">${t.title}</h4>
          <img class="product__img" src="${t.img}" alt="">
          <span class="product__quantity">${t.quantity}</span>
      </li>
    `)}()}()});const r=document.getElementById("date"),i=document.getElementById("arrival");document.getElementsByClassName("price");const d=document.getElementById("modalPrice");document.querySelectorAll(".productName");const s=document.getElementById("totalPrice"),a=document.getElementById("product"),u=document.getElementById("productPicture");document.querySelectorAll(".picture");const m=document.querySelectorAll(".sneakers-list__item");function g(){o.style.display="none",p.innerHTML=0}l.forEach(function(e){e.addEventListener("click",function(){m.forEach(function(e){e.addEventListener("click",function(){var e=[],e=(e.push(this.innerText.replace(/[0-9, $, \n]/g,"")),a.innerHTML=e[0],this.querySelector(".picture"));u.src=e.src,this.querySelector(".link");d.innerHTML=this.textContent,p.innerHTML=this.textContent})}),y.innerHTML=1;var e=document.getElementById("orderNumber");e.innerHTML=Math.ceil(2e3*Math.random()),e=new Date,r.innerHTML=e.getHours()+":"+e.getMinutes()+"-"+e.getDate()+"/"+e.getMonth(),i.innerHTML=e.getDate()+5+"/"+e.getMonth(),o.style.display="block"})});const y=document.getElementById("quantity");document.getElementById("minusItem").addEventListener("click",function(){{var e;y.innerHTML--,0<y.innerHTML?(E=y.innerHTML,e=parseInt(d.textContent.replace(/[^\d.]/g,"")),p.innerHTML="$ "+E*e):0==y.innerHTML?p.innerHTML=0:y.innerHTML=0}}),document.getElementById("plusItem").addEventListener("click",function(){y.innerHTML++,E=y.innerHTML;var e=parseInt(d.textContent.replace(/[^\d.]/g,""));v=p.innerHTML="$ "+E*e});const p=document.getElementById("modalTotalPrice");let E,v;let L=[];document.getElementById("basketBtn").addEventListener("click",function(){I.style.display="flex"});let I=document.querySelector(".basket");document.getElementById("closeBasket").addEventListener("click",H);const f=document.getElementById("basketItems");document.getElementById("resetBasket").addEventListener("click",B),document.getElementById("orderBasket").addEventListener("click",function(){B(),H()});const k=document.getElementById("itemsCard");let T=0,M=[];const h=document.querySelector(".basket-items__list");function B(){T=0,s.innerText=0,f.innerHTML="",k.innerHTML=0,L=[];var t=document.querySelectorAll(".imgitems");for(let e=0;e<t.length;e++)t[e].src="";var n=document.querySelectorAll(".imgItemsQuantity");for(let e=0;e<n.length;e++)n[e].innerText=""}function H(){I.style.display="none"}var q=document.querySelectorAll(".btnMail");const S=document.querySelector(".modal-email__back");document.getElementById("cancelMail").addEventListener("click",function(){S.style.display="none"});var x=document.querySelectorAll(".btnName");const _=document.getElementById("text"),b=document.getElementById("email"),P=document.getElementById("success");document.getElementById("btnCloseMdlSuc").addEventListener("click",function(){P.style.display="none"});function A(){0!==_.value.length&&"Please enter your name"!==_.value&&"Please enter your email"!==b.value?(S.style.display="none",localStorage.setItem("Name",_.value),localStorage.setItem("Email",b.value),P.style.display="flex",document.querySelector(".name").innerHTML=_.value):_.value="Please enter your name",b.value="Please enter your email"}function C(){S.style.display="flex"}x.forEach(function(e){e.addEventListener("click",A)}),q.forEach(function(e){e.addEventListener("click",C)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJIRUFERVIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwid2luZG93IiwibGV0IiwicmV2ZWFsRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYWRkIiwicmVtb3ZlIiwiVVBCVVRUT04iLCJnZXRFbGVtZW50QnlJZCIsIm9uc2Nyb2xsIiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsInByb2R1Y3RJdGVtcyIsInByb2R1Y3RUaXRsZSIsInByb2R1Y3RJbWciLCJwcm9kdWN0UHJpY2UiLCJTTkVBS0VSU0xJU1QiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJ0bnMiLCJjb250YWluZXIiLCJsb29wIiwiaXRlbXMiLCJzbGlkZUJ5IiwibmF2IiwiYXV0b3BsYXkiLCJmaXhlZFdpZHRoIiwiZ3V0dGVyIiwiY2VudGVyIiwiZWRnZVBhZGRpbmciLCJzcGVlZCIsImF1dG9wbGF5QnV0dG9uT3V0cHV0IiwibW91c2VEcmFnIiwiY29udHJvbHNDb250YWluZXIiLCJyZXNwb25zaXZlIiwiNzY4IiwiMTE3MCIsIm1vZGFsQnRuQmFza2V0IiwibW9kYWwiLCJjbG9zZVdpbmRvdyIsInRvdGFsUHJpY2UiLCJwdXNoIiwicGFyc2VJbnQiLCJNT0RBTFRPVEFMUFJJQ0UiLCJyZXBsYWNlIiwic3VtVG90YWxQcmljZSIsIlRPVEFMUFJJQ0UiLCJpbm5lclRleHQiLCJudW1JdGVtcyIsIk1PREFMUVVBTlRJVFkiLCJjb3VudCIsIkNBUkRJVEVNUyIsImlubmVySFRNTCIsIklURU1TQkFTS0VUIiwiYWRkUHJvZHVjdHNUb0Jhc2tldCIsInByb2R1Y3QiLCJ0aXRsZSIsIk1PREFMUFJPRFVDVE5BTUUiLCJpbWciLCJNT0RBTFBJQ1RVUkUiLCJzcmMiLCJxdWFudGl0eSIsInRleHRDb250ZW50IiwiZm91bmRQcm9kdWN0SW5CYXNrZXQiLCJwcm9kdWN0QmFza2V0QXJyIiwic29tZSIsImVsIiwiY29uc29sZSIsImxvZyIsIkJBU0tFVFBST0RVQ1RTIiwiREFURSIsIkFSUklWQUwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiTU9EQUxQUklDRSIsIlNORUFLRVJJVEVNIiwiZm9yRWFjaCIsImUiLCJwcm9kdWN0TmFtZSIsImltZ3NyYyIsInRoaXMiLCJPUkRFUk5VTUJFUiIsIk1hdGgiLCJjZWlsIiwicmFuZG9tIiwibmV3RGF0ZSIsIkRhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJzdW0iLCJudW1iZXIiLCJ0b3RhbFByaWNlVmFsdWUiLCJiYXNrZXQiLCJjbG9zZUJhc2tldCIsInRvUmVzZXRCYXNrZXQiLCJSRU1PVkVJTUciLCJSRU1PVkVJTUdJVEVNUyIsIkJUTk1BSUwiLCJNT0RBTEVNQUlMIiwiQlROU0VORCIsIklOUFVUTkFNRSIsIklOUFVUTUFJTCIsIk1PREFMU1VDQ0VTUyIsInNhdmVVc2VyTmFtZSIsInZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIm9wZW5NYWlsIl0sIm1hcHBpbmdzIjoiQUFBQUEsU0FBQUMsaUJBQUEsbUJBQUEsS0FFQSxNQUFBQyxFQUFBRixTQUFBRyxjQUFBLFNBQUEsRUFDQUQsRUFBQUMsY0FBQSxTQUFBLEVBRUFGLGlCQUFBLFFBQUEsS0FDQUMsRUFBQUUsVUFBQUMsT0FBQSxxQkFBQSxDQUNBLENBQUEsRUFrQkFDLE9BQUFMLGlCQUFBLFNBaEJBLFdBQ0FNLElBQUFDLEVBQUFSLFNBQUFTLGlCQUFBLFNBQUEsRUFFQSxJQUFBRixJQUFBRyxFQUFBLEVBQUFBLEVBQUFGLEVBQUFHLE9BQUFELENBQUEsR0FBQSxDQUNBSCxJQUFBSyxFQUFBTixPQUFBTyxZQUNBTCxFQUFBRSxHQUFBSSxzQkFBQSxFQUFBQyxJQUdBSCxFQUZBLElBR0FKLEVBQUFFLEdBQUFOLFVBQUFZLElBQUEsUUFBQSxFQUVBUixFQUFBRSxHQUFBTixVQUFBYSxPQUFBLFFBQUEsQ0FFQSxDQUNBLENBRUEsRUFFQSxNQUFBQyxFQUFBbEIsU0FBQW1CLGVBQUEsT0FBQSxFQUNBYixPQUFBYyxTQUFBLFdBR0EsR0FBQXBCLFNBQUFxQixLQUFBQyxXQUFBLEdBQUF0QixTQUFBdUIsZ0JBQUFELFVBQ0FKLEVBQUFNLE1BQUFDLFFBQUEsT0FFQVAsRUFBQU0sTUFBQUMsUUFBQSxNQU5BLEVBVUFQLEVBQUFqQixpQkFBQSxRQUNBLFdBQ0FELFNBQUFxQixLQUFBQyxVQUFBLEVBQ0F0QixTQUFBdUIsZ0JBQUFELFVBQUEsQ0FDQSxDQUpBLEVBTUFmLElBQUFtQixFQUFBLENBQ0EsQ0FDQUMsYUFBQSxXQUNBQyxXQUFBLGdDQUNBQyxhQUFBLEdBQ0EsRUFDQSxDQUNBRixhQUFBLGNBQ0FDLFdBQUEsZ0NBQ0FDLGFBQUEsR0FDQSxFQUNBLENBQ0FGLGFBQUEsV0FDQUMsV0FBQSxnQ0FDQUMsYUFBQSxHQUNBLEVBQ0EsQ0FDQUYsYUFBQSxZQUNBQyxXQUFBLGdDQUNBQyxhQUFBLEdBQ0EsRUFDQSxDQUNBRixhQUFBLGtCQUNBQyxXQUFBLGdDQUNBQyxhQUFBLEdBQ0EsR0FHQSxNQUFBQyxFQUFBOUIsU0FBQUcsY0FBQSxvQkFBQSxFQUdBLElBQUFJLElBQUFHLEVBQUEsRUFBQUEsRUFBQWdCLEVBQUFmLE9BQUFELENBQUEsR0FDQW9CLEVBQUFDLG1CQUFBOztvQ0FHQUwsRUFBQWhCLEdBQUFrQixvQkFBQUYsRUFBQWhCLEdBQUFpQjs7Y0FFQUQsRUFBQWhCLEdBQUFpQjs7O2VBR0FELEVBQUFoQixHQUFBbUI7Ozs7O2FBS0EsRUFNQUcsSUFBQSxDQUNBQyxVQUFBLGFBQ0FDLEtBQUEsQ0FBQSxFQUNBQyxNQUFBLElBQ0FDLFFBQUEsRUFDQUMsSUFBQSxDQUFBLEVBQ0FDLFNBQUEsQ0FBQSxFQUNBQyxXQUFBLElBQ0FDLE9BQUEsR0FDQUMsT0FBQSxDQUFBLEVBQ0FDLFlBQUEsR0FDQUMsTUFBQSxJQUNBQyxxQkFBQSxDQUFBLEVBQ0FDLFVBQUEsQ0FBQSxFQUNBQyxrQkFBQSxzQkFDQUMsV0FBQSxDQUNBQyxJQUFBLENBQ0FiLE1BQUEsR0FDQSxFQUNBYyxLQUFBLENBQ0FkLE1BQUEsRUFDQUssT0FBQSxJQUNBRCxXQUFBLEdBQ0EsQ0FDQSxDQUVBLENBQUEsRUFFQWhDLElBQUEyQyxFQUFBbEQsU0FBQVMsaUJBQUEsYUFBQSxFQUNBMEMsRUFBQW5ELFNBQUFHLGNBQUEsMkJBQUEsRUFDQUgsU0FBQW1CLGVBQUEsY0FBQSxFQUFBbEIsaUJBQUEsUUFBQW1ELENBQUEsRUFDQXBELFNBQUFtQixlQUFBLGNBQUEsRUFBQWxCLGlCQUFBLFFBQUFtRCxDQUFBLEVBQ0FwRCxTQUFBbUIsZUFBQSxjQUFBLEVBQUFsQixpQkFBQSxRQXdGQSxXQUNBb0QsRUFBQUMsS0FBQUMsU0FBQUMsRUFBQSxZQUFBQyxRQUFBLFVBQUEsRUFBQSxDQUFBLENBQUEsRUFDQWxELElBQUFtRCxFQUFBLEVBRUEsSUFBQW5ELElBQUFHLEVBQUEsRUFBQUEsRUFBQTJDLEVBQUExQyxPQUFBRCxDQUFBLEdBQ0FnRCxHQUFBTCxFQUFBM0MsR0FHQWlELEVBQUFDLFVBQUEsS0FBQUYsRUFDQVAsRUFBQTNCLE1BQUFDLFFBQUEsT0FzREEsV0FDQSxDQUFBLElBQ0FvQyxFQURBLEVBQUFSLEVBQUExQyxTQUNBa0QsRUFBQU4sU0FBQU8sRUFBQSxZQUFBTCxRQUFBLFVBQUEsRUFBQSxDQUFBLEVBQ0FNLEdBQUFGLEVBQ0FHLEVBQUFDLFVBQUEsVUFBQUYsRUFDQUcsRUFBQUQsVUFBQUYsRUFDQSxDQUNBSSxDQTFDQSxXQUVBNUQsSUFBQTZELEVBQUEsR0FDQUEsRUFBQUMsTUFBQUMsRUFBQUwsVUFDQUcsRUFBQUcsSUFBQUMsRUFBQUMsSUFDQUwsRUFBQU0sU0FBQVosRUFBQWEsWUFFQSxJQUFBQyxFQUFBQyxFQUFBQyxLQUFBQyxHQUFBQSxFQUFBVixRQUFBRCxFQUFBQyxLQUFBLEVBRUFPLEdBQ0FJLFFBQUFDLElBQUEsT0FBQSxFQUVBTCxJQUNBQyxFQUFBdkIsS0FBQWMsQ0FBQSxFQUNBWSxRQUFBQyxJQUFBLFlBQUEsR0FJQSxJQUFBMUUsSUFBQUcsRUFBQSxFQUFBQSxFQUFBbUUsRUFBQWxFLE9BQUFELENBQUEsR0FDQXdFLEVBQUFuRCxtQkFBQTs7dUNBRUFxQyxFQUFBQzsyQ0FDQUQsRUFBQUc7NENBQ0FILEVBQUFNOztLQUVBLENBSUEsRUFhQSxDQUNBLEVBN0RBLENBQ0EsQ0FuR0EsRUFFQSxNQUFBUyxFQUFBbkYsU0FBQW1CLGVBQUEsTUFBQSxFQUNBaUUsRUFBQXBGLFNBQUFtQixlQUFBLFNBQUEsRUFDQW5CLFNBQUFxRix1QkFBQSxPQUFBLEVBQ0EsTUFBQUMsRUFBQXRGLFNBQUFtQixlQUFBLFlBQUEsRUFDQW5CLFNBQUFTLGlCQUFBLGNBQUEsRUFDQSxNQUFBa0QsRUFBQTNELFNBQUFtQixlQUFBLFlBQUEsRUFDQW1ELEVBQUF0RSxTQUFBbUIsZUFBQSxTQUFBLEVBQ0FxRCxFQUFBeEUsU0FBQW1CLGVBQUEsZ0JBQUEsRUFDQW5CLFNBQUFTLGlCQUFBLFVBQUEsRUFDQSxNQUFBOEUsRUFBQXZGLFNBQUFTLGlCQUFBLHNCQUFBLEVBNkNBLFNBQUEyQyxJQUNBRCxFQUFBM0IsTUFBQUMsUUFBQSxPQUNBK0IsRUFBQVMsVUFBQSxDQUNBLENBMUJBZixFQUFBc0MsUUFBQSxTQUFBQyxHQUNBQSxFQUFBeEYsaUJBQUEsUUFBQSxXQXBCQXNGLEVBQUFDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQXhGLGlCQUFBLFFBQUEsV0FDQU0sSUFBQW1GLEVBQUEsR0FJQUMsR0FIQUQsRUFBQXBDLEtBQUFzQyxLQUFBLFVBQUFuQyxRQUFBLGdCQUFBLEVBQUEsQ0FBQSxFQUNBYSxFQUFBTCxVQUFBeUIsRUFBQSxHQUVBRSxLQUFBekYsY0FBQSxVQUFBLEdBQ0FxRSxFQUFBQyxJQUFBa0IsRUFBQWxCLElBRUFtQixLQUFBekYsY0FBQSxPQUFBLEVBQ0FtRixFQUFBckIsVUFBQTJCLEtBQUFqQixZQUNBbkIsRUFBQVMsVUFBQTJCLEtBQUFqQixXQUdBLENBQUEsQ0FDQSxDQUFBLEVBZUFiLEVBQUFHLFVBQUEsRUFFQSxJQUFBNEIsRUFBQTdGLFNBQUFtQixlQUFBLGFBQUEsRUFDQTBFLEVBQUE1QixVQUFBNkIsS0FBQUMsS0FBQSxJQUFBRCxLQUFBRSxPQUFBLENBQUEsRUFFQUMsRUFBQSxJQUFBQyxLQUNBZixFQUFBbEIsVUFBQWdDLEVBQUFFLFNBQUEsRUFBQSxJQUFBRixFQUFBRyxXQUFBLEVBQUEsSUFBQUgsRUFBQUksUUFBQSxFQUFBLElBQUFKLEVBQUFLLFNBQUEsRUFDQWxCLEVBQUFuQixVQUFBZ0MsRUFBQUksUUFBQSxFQUFBLEVBQUEsSUFBQUosRUFBQUssU0FBQSxFQUVBbkQsRUFBQTNCLE1BQUFDLFFBQUEsT0FoQkEsQ0FBQSxDQUNBLENBQUEsRUF1QkEsTUFBQXFDLEVBQUE5RCxTQUFBbUIsZUFBQSxVQUFBLEVBQ0FuQixTQUFBbUIsZUFBQSxXQUFBLEVBQUFsQixpQkFBQSxRQU1BLFdBRUEsQ0FBQSxJQUVBc0csRUFIQXpDLEVBQUFHLFNBQUEsR0FDQSxFQUFBSCxFQUFBRyxXQUNBdUMsRUFBQTFDLEVBQUFHLFVBQ0FzQyxFQUFBaEQsU0FBQStCLEVBQUEsWUFBQTdCLFFBQUEsVUFBQSxFQUFBLENBQUEsRUFDQUQsRUFBQVMsVUFBQSxLQUFBdUMsRUFBQUQsR0FDQSxHQUFBekMsRUFBQUcsVUFDQVQsRUFBQVMsVUFBQSxFQUNBSCxFQUFBRyxVQUFBLENBQUEsQ0FDQSxDQWZBLEVBQ0FqRSxTQUFBbUIsZUFBQSxVQUFBLEVBQUFsQixpQkFBQSxRQWdCQSxXQUNBNkQsRUFBQUcsU0FBQSxHQUNBdUMsRUFBQTFDLEVBQUFHLFVBQ0ExRCxJQUFBZ0csRUFBQWhELFNBQUErQixFQUFBLFlBQUE3QixRQUFBLFVBQUEsRUFBQSxDQUFBLEVBQ0FnRCxFQUFBakQsRUFBQVMsVUFBQSxLQUFBdUMsRUFBQUQsQ0FDQSxDQXJCQSxFQUNBLE1BQUEvQyxFQUFBeEQsU0FBQW1CLGVBQUEsaUJBQUEsRUFDQVosSUFBQWlHLEVBQ0FDLEVBb0JBbEcsSUFBQThDLEVBQUEsR0FlQXJELFNBQUFtQixlQUFBLFdBQUEsRUFBQWxCLGlCQUFBLFFBOENBLFdBQ0F5RyxFQUFBbEYsTUFBQUMsUUFBQSxNQUNBLENBaERBLEVBQ0FsQixJQUFBbUcsRUFBQTFHLFNBQUFHLGNBQUEsU0FBQSxFQUNBSCxTQUFBbUIsZUFBQSxhQUFBLEVBQUFsQixpQkFBQSxRQUFBMEcsQ0FBQSxFQUNBLE1BQUF6QyxFQUFBbEUsU0FBQW1CLGVBQUEsYUFBQSxFQUNBbkIsU0FBQW1CLGVBQUEsYUFBQSxFQUFBbEIsaUJBQUEsUUFBQTJHLENBQUEsRUFDQTVHLFNBQUFtQixlQUFBLGFBQUEsRUFBQWxCLGlCQUFBLFFBNkVBLFdBQ0EyRyxFQUFBLEVBQ0FELEVBQUEsQ0FDQSxDQWhGQSxFQUNBLE1BQUEzQyxFQUFBaEUsU0FBQW1CLGVBQUEsV0FBQSxFQUlBWixJQUFBd0QsRUFBQSxFQUVBYyxFQUFBLEdBQ0EsTUFBQUssRUFBQWxGLFNBQUFHLGNBQUEscUJBQUEsRUErQ0EsU0FBQXlHLElBQ0E3QyxFQUFBLEVBQ0FKLEVBQUFDLFVBQUEsRUFDQU0sRUFBQUQsVUFBQSxHQUNBRCxFQUFBQyxVQUFBLEVBQ0FaLEVBQUEsR0FFQSxJQUFBd0QsRUFBQTdHLFNBQUFTLGlCQUFBLFdBQUEsRUFDQSxJQUFBRixJQUFBRyxFQUFBLEVBQUFBLEVBQUFtRyxFQUFBbEcsT0FBQUQsQ0FBQSxHQUNBbUcsRUFBQW5HLEdBQUErRCxJQUFBLEdBR0EsSUFBQXFDLEVBQUE5RyxTQUFBUyxpQkFBQSxtQkFBQSxFQUNBLElBQUFGLElBQUFHLEVBQUEsRUFBQUEsRUFBQW9HLEVBQUFuRyxPQUFBRCxDQUFBLEdBQ0FvRyxFQUFBcEcsR0FBQWtELFVBQUEsRUFFQSxDQUVBLFNBQUErQyxJQUNBRCxFQUFBbEYsTUFBQUMsUUFBQSxNQUNBLENBT0EsSUFBQXNGLEVBQUEvRyxTQUFBUyxpQkFBQSxVQUFBLEVBQ0EsTUFBQXVHLEVBQUFoSCxTQUFBRyxjQUFBLG9CQUFBLEVBQ0FILFNBQUFtQixlQUFBLFlBQUEsRUFBQWxCLGlCQUFBLFFBd0NBLFdBQ0ErRyxFQUFBeEYsTUFBQUMsUUFBQSxNQUNBLENBMUNBLEVBQUEsSUFDQXdGLEVBQUFqSCxTQUFBUyxpQkFBQSxVQUFBLEVBQ0EsTUFBQXlHLEVBQUFsSCxTQUFBbUIsZUFBQSxNQUFBLEVBQ0FnRyxFQUFBbkgsU0FBQW1CLGVBQUEsT0FBQSxFQUNBaUcsRUFBQXBILFNBQUFtQixlQUFBLFNBQUEsRUFDQW5CLFNBQUFtQixlQUFBLGdCQUFBLEVBQUFsQixpQkFBQSxRQXVCQSxXQUNBbUgsRUFBQTVGLE1BQUFDLFFBQUEsTUFDQSxDQXpCQSxFQU1BLFNBQUE0RixJQUNBLElBQUFILEVBQUFJLE1BQUEzRyxRQUFBLDJCQUFBdUcsRUFBQUksT0FBQSw0QkFBQUgsRUFBQUcsT0FDQU4sRUFBQXhGLE1BQUFDLFFBQUEsT0FDQThGLGFBQUFDLFFBQUEsT0FBQU4sRUFBQUksS0FBQSxFQUNBQyxhQUFBQyxRQUFBLFFBQUFMLEVBQUFHLEtBQUEsRUFFQUYsRUFBQTVGLE1BQUFDLFFBQUEsT0FDQXpCLFNBQUFHLGNBQUEsT0FBQSxFQUNBOEQsVUFBQWlELEVBQUFJLE9BSUFKLEVBQUFJLE1BQUEseUJBQ0FILEVBQUFHLE1BQUEseUJBRUEsQ0FVQSxTQUFBRyxJQUNBVCxFQUFBeEYsTUFBQUMsUUFBQSxNQUNBLENBL0JBd0YsRUFBQXpCLFFBQUEsU0FBQUMsR0FDQUEsRUFBQXhGLGlCQUFBLFFBQUFvSCxDQUFBLENBQ0EsQ0FBQSxFQXVCQU4sRUFBQXZCLFFBQUEsU0FBQUMsR0FDQUEsRUFBQXhGLGlCQUFBLFFBQUF3SCxDQUFBLENBQ0EsQ0FBQSxDQWFBLENBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcblxyXG5jb25zdCBIRUFERVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyk7XHJcbmNvbnN0IEJVVFRPTiA9IEhFQURFUi5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XHJcblxyXG5CVVRUT04uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBIRUFERVIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLS1tZW51LWFjdGl2ZScpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHJldmVhbFdoZW5TY3JvbGwoKSB7XHJcbiAgbGV0IHJldmVhbEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZlYWxcIik7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV2ZWFsRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgZWxlbWVudFRvcCA9IHJldmVhbEVsZW1lbnRzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIGxldCBlbGVtZW50VmlzaWJsZSA9IDE1MDtcclxuXHJcbiAgICBpZiAoZWxlbWVudFRvcCA8IHdpbmRvd0hlaWdodCAtIGVsZW1lbnRWaXNpYmxlKSB7XHJcbiAgICAgIHJldmVhbEVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXZlYWxFbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuICBcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgcmV2ZWFsV2hlblNjcm9sbCk7XHJcblxyXG5jb25zdCBVUEJVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGJ0bicpO1xyXG53aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtzY3JvbGxGdW5jdGlvbigpfTtcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbEZ1bmN0aW9uKCkge1xyXG4gIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA+IDIwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiAyMCkge1xyXG4gICAgVVBCVVRUT04uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBVUEJVVFRPTi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59O1xyXG5cclxuVVBCVVRUT04uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b1VwV2luZG93KTtcclxuZnVuY3Rpb24gdG9VcFdpbmRvdygpIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XHJcbn07XHJcblxyXG5sZXQgcHJvZHVjdEl0ZW1zID0gW1xyXG4gIHtcclxuICAgIHByb2R1Y3RUaXRsZTogXCJBaXIgTWF4aVwiLFxyXG4gICAgcHJvZHVjdEltZzogXCIuL2ltZy90b3BzbmVha2Vycy1pbWFnZS0xLnBuZ1wiLFxyXG4gICAgcHJvZHVjdFByaWNlOiAxMjAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiUmVhY3QgR3VzdG9cIixcclxuICAgIHByb2R1Y3RJbWc6IFwiLi9pbWcvdG9wc25lYWtlcnMtaW1hZ2UtMi5wbmdcIixcclxuICAgIHByb2R1Y3RQcmljZTogMjIwXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiQWlyIE1pbmlcIixcclxuICAgIHByb2R1Y3RJbWc6IFwiLi9pbWcvdG9wc25lYWtlcnMtaW1hZ2UtMy5wbmdcIixcclxuICAgIHByb2R1Y3RQcmljZTogMjAzXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiQWlyIFN1cGVyXCIsXHJcbiAgICBwcm9kdWN0SW1nOiBcIi4vaW1nL3RvcHNuZWFrZXJzLWltYWdlLTEucG5nXCIsXHJcbiAgICBwcm9kdWN0UHJpY2U6IDI0MFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZHVjdFRpdGxlOiBcIlJlYWN0aXMgUGVyZXN0b1wiLFxyXG4gICAgcHJvZHVjdEltZzogXCIuL2ltZy90b3BzbmVha2Vycy1pbWFnZS0yLnBuZ1wiLFxyXG4gICAgcHJvZHVjdFByaWNlOiAxMjBcclxuICB9XHJcbl07XHJcblxyXG5jb25zdCBTTkVBS0VSU0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wc25lYWtlcnNfX2xpc3QnKTtcclxuXHJcbmZ1bmN0aW9uIGluc2VydFByb2R1Y3RzVG9MaXN0KCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIFNORUFLRVJTTElTVC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgXHJcbiAgICAgIGBcclxuICAgICAgPGRpdiBjbGFzcz1cInNuZWFrZXJzLWxpc3RfX2l0ZW1cIj5cclxuICAgICAgICA8aW1nIGNsYXNzPVwicGljdHVyZVwiIHNyYz1cIiR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RJbWd9XCIgYWx0PVwiJHtwcm9kdWN0SXRlbXNbaV0ucHJvZHVjdFRpdGxlfVwiPlxyXG4gICAgICAgIDxoMyBjbGFzcz1cInByb2R1Y3ROYW1lXCI+XHJcbiAgICAgICAgICAgICR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RUaXRsZX1cclxuICAgICAgICA8L2gzPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGluayBtb2RhbC1saW5rXCIgYXJpYS1sYWJlbD1cIkljb24gbGluayB0byBtb2RhbCB3aW5kb3dcIj5cclxuICAgICAgICAgICAgJCR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RQcmljZX1cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cclxuICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cImltZy9zcHJpdGUuc3ZnI25ldy1saW5rLWljb25cIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgPC9hPlxyXG4gICAgICA8L2Rpdj5gKVxyXG4gIH1cclxufTtcclxuXHJcbmluc2VydFByb2R1Y3RzVG9MaXN0KClcclxuXHJcbmNvbnN0IHNsaWRlciA9IHRucyh7XHJcbiAgY29udGFpbmVyOiAnLm15LXNsaWRlcicsXHJcbiAgbG9vcDogZmFsc2UsXHJcbiAgaXRlbXM6IDEuMSxcclxuICBzbGlkZUJ5OiAxLFxyXG4gIG5hdjogZmFsc2UsICAgIFxyXG4gIGF1dG9wbGF5OiBmYWxzZSxcclxuICBmaXhlZFdpZHRoOiAyNDAsXHJcbiAgZ3V0dGVyOiAxMCxcclxuICBjZW50ZXI6IGZhbHNlLFxyXG4gIGVkZ2VQYWRkaW5nOiAxMCxcclxuICBzcGVlZDogNDAwLFxyXG4gIGF1dG9wbGF5QnV0dG9uT3V0cHV0OiBmYWxzZSxcclxuICBtb3VzZURyYWc6IHRydWUsXHJcbiAgY29udHJvbHNDb250YWluZXI6IFwiI2N1c3RvbWl6ZS1jb250cm9sc1wiLFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgICAgNzY4OiB7XHJcbiAgICAgICAgICBpdGVtczogMi4xLFxyXG4gICAgICB9LFxyXG4gICAgICAxMTcwOiB7XHJcbiAgICAgICAgICBpdGVtczogMyxcclxuICAgICAgICAgIGd1dHRlcjogMTIwLFxyXG4gICAgICAgICAgZml4ZWRXaWR0aDogMzAwLFxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG5sZXQgbW9kYWxCdG5CYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtbGluaycpO1xyXG5sZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wc25lYWtlcnNfX21vZGFsLS1iYWNrJyk7XHJcbmxldCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS13aW5kb3cnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlV2luZG93KTtcclxubGV0IGNhbmNlbE9yZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbC1vcmRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXaW5kb3cpO1xyXG5sZXQgb3JkZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJQcm9kdWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdpbk9wZW5CYXNrdCk7XHJcbmxldCBjbGlja2VkID0gZmFsc2U7XHJcbmNvbnN0IERBVEUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpO1xyXG5jb25zdCBBUlJJVkFMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fycml2YWwnKTtcclxuY29uc3QgSVRFTVBSSUNFID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJpY2UnKTtcclxuY29uc3QgTU9EQUxQUklDRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFByaWNlJyk7XHJcbmNvbnN0IFBST0RVQ1ROQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3ROYW1lJyk7XHJcbmNvbnN0IFRPVEFMUFJJQ0UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWxQcmljZScpO1xyXG5jb25zdCBNT0RBTFBST0RVQ1ROQU1FID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3QnKTtcclxuY29uc3QgTU9EQUxQSUNUVVJFID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3RQaWN0dXJlJyk7XHJcbmNvbnN0IElNRyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5waWN0dXJlJyk7XHJcbmNvbnN0IFNORUFLRVJJVEVNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNuZWFrZXJzLWxpc3RfX2l0ZW0nKTtcclxuXHJcbmZ1bmN0aW9uIGdldERhdGFGcm9tUHJvZHVjdCgpIHtcclxuICBTTkVBS0VSSVRFTS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICBsZXQgcHJvZHVjdE5hbWUgPSBbXTtcclxuICAgICAgcHJvZHVjdE5hbWUucHVzaCgodGhpcy5pbm5lclRleHQpLnJlcGxhY2UoL1swLTksICQsIFxcbl0vZywgJycpKTtcclxuICAgICAgTU9EQUxQUk9EVUNUTkFNRS5pbm5lckhUTUwgPSBwcm9kdWN0TmFtZVswXTtcclxuICBcclxuICAgICAgbGV0IGltZ3NyYyA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBpY3R1cmUnKTtcclxuICAgICAgTU9EQUxQSUNUVVJFLnNyYyA9IGltZ3NyYy5zcmM7XHJcblxyXG4gICAgICBsZXQgcHJpY2UgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5saW5rJyk7XHJcbiAgICAgIE1PREFMUFJJQ0UuaW5uZXJIVE1MID0gdGhpcy50ZXh0Q29udGVudDtcclxuICAgICAgTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IHRoaXMudGV4dENvbnRlbnQ7XHJcbiAgICAgIFxyXG4gIFxyXG4gICAgfSlcclxuICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldFByaWNlRnJvbVByb2R1Y3QoKSB7XHJcbiAgbW9kYWxCdG5CYXNrZXQuZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGdldERhdGFGcm9tUHJvZHVjdCgpO1xyXG4gICAgICBnZXRNb2RhbERldGFpbHMoKTtcclxuICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5nZXRQcmljZUZyb21Qcm9kdWN0KCk7XHJcblxyXG5mdW5jdGlvbiBnZXRNb2RhbERldGFpbHMoKSB7XHJcbiAgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPSAxO1xyXG5cclxuICBjb25zdCBPUkRFUk5VTUJFUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmRlck51bWJlcicpO1xyXG4gIE9SREVSTlVNQkVSLmlubmVySFRNTCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMjAwMCk7XHJcblxyXG4gIGxldCBuZXdEYXRlID0gbmV3IERhdGUoKTtcclxuICBEQVRFLmlubmVySFRNTCA9IG5ld0RhdGUuZ2V0SG91cnMoKStcIjpcIisgbmV3RGF0ZS5nZXRNaW51dGVzKCkrIFwiLVwiICsgbmV3RGF0ZS5nZXREYXRlKCkgKyBcIi9cIiArIG5ld0RhdGUuZ2V0TW9udGgoKTtcclxuICBBUlJJVkFMLmlubmVySFRNTCA9IG5ld0RhdGUuZ2V0RGF0ZSgpICsgNSArIFwiL1wiICsgbmV3RGF0ZS5nZXRNb250aCgpO1xyXG5cclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2xvc2VXaW5kb3coKSB7XHJcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIE1PREFMVE9UQUxQUklDRS5pbm5lckhUTUwgPSAwO1xyXG59O1xyXG5cclxuY29uc3QgTU9EQUxRVUFOVElUWSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWFudGl0eScpO1xyXG5jb25zdCBCVE5NSU5VU0lURU0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXNJdGVtJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtaW51c1Byb2R1Y3RzKTtcclxuY29uc3QgQlROUExVU0lURU0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGx1c0l0ZW0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsdXNQcm9kdWN0cyk7XHJcbmNvbnN0IE1PREFMVE9UQUxQUklDRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRvdGFsUHJpY2UnKTtcclxubGV0IG51bWJlcjtcclxubGV0IHRvdGFsUHJpY2VWYWx1ZTtcclxuXHJcbmZ1bmN0aW9uIG1pbnVzUHJvZHVjdHMoKSB7XHJcbiAgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwtLTtcclxuICBpZiAoTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPiAwKSB7XHJcbiAgICBudW1iZXIgPSBNT0RBTFFVQU5USVRZLmlubmVySFRNTDtcclxuICAgIGxldCBzdW0gPSBwYXJzZUludCgoTU9EQUxQUklDRS50ZXh0Q29udGVudCkucmVwbGFjZSgvW15cXGQuXS9nLCAnJykpO1xyXG4gICAgTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IGAkICR7bnVtYmVyICogc3VtfWA7XHJcbiAgfSBlbHNlIGlmIChNT0RBTFFVQU5USVRZLmlubmVySFRNTCA9PSAwKSB7XHJcbiAgICBNT0RBTFRPVEFMUFJJQ0UuaW5uZXJIVE1MID0gMDtcclxuICB9IGVsc2UgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPSAwO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcGx1c1Byb2R1Y3RzKCkge1xyXG4gIE1PREFMUVVBTlRJVFkuaW5uZXJIVE1MKys7XHJcbiAgbnVtYmVyID0gTU9EQUxRVUFOVElUWS5pbm5lckhUTUw7XHJcbiAgbGV0IHN1bSA9IHBhcnNlSW50KChNT0RBTFBSSUNFLnRleHRDb250ZW50KS5yZXBsYWNlKC9bXlxcZC5dL2csICcnKSk7XHJcbiAgdG90YWxQcmljZVZhbHVlID0gTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IGAkICR7bnVtYmVyICogc3VtfWA7XHJcbn07XHJcblxyXG5sZXQgdG90YWxQcmljZSA9IFtdO1xyXG5cclxuZnVuY3Rpb24gY2xvc2VXaW5PcGVuQmFza3QoKSB7XHJcbiAgdG90YWxQcmljZS5wdXNoKHBhcnNlSW50KChNT0RBTFRPVEFMUFJJQ0UudGV4dENvbnRlbnQpLnJlcGxhY2UoL1teXFxkLl0vZywgJycpKSk7XHJcbiAgbGV0IHN1bVRvdGFsUHJpY2UgPSAwO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUHJpY2UubGVuZ3RoOyBpKyspIHtcclxuICAgIHN1bVRvdGFsUHJpY2UgKz0gdG90YWxQcmljZVtpXTtcclxuICB9O1xyXG5cclxuICBUT1RBTFBSSUNFLmlubmVyVGV4dCA9IGAkICR7c3VtVG90YWxQcmljZX1gO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICBvcGVuQmFza2V0KCk7XHJcbn07XHJcblxyXG5jb25zdCBCQVNLRVRCVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFza2V0QnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0SWNvbik7XHJcbmxldCBiYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0Jyk7XHJcbmxldCB0b0Nsb3NlQmFza2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlQmFza2V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJhc2tldCk7XHJcbmNvbnN0IElURU1TQkFTS0VUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jhc2tldEl0ZW1zJyk7XHJcbmNvbnN0IFJFU0VUQkFTS0VUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0QmFza2V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b1Jlc2V0QmFza2V0KTtcclxuY29uc3QgT1JERVJCQVNLRVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJCYXNrZXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9yZGVyQmFza2V0KTtcclxuY29uc3QgQ0FSRElURU1TID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1zQ2FyZCcpO1xyXG5cclxubGV0IGltZztcclxubGV0IGltZ0l0ZW1zUXVhbnRpdHk7XHJcbmxldCBjb3VudCA9IDA7XHJcblxyXG5sZXQgcHJvZHVjdEJhc2tldEFyciA9IFtdO1xyXG5jb25zdCBCQVNLRVRQUk9EVUNUUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXQtaXRlbXNfX2xpc3QnKTtcclxuXHJcbmZ1bmN0aW9uIGFkZFByb2R1Y3RzVG9CYXNrZXQoKSB7XHJcblxyXG4gIGxldCBwcm9kdWN0ID0ge307XHJcbiAgcHJvZHVjdC50aXRsZSA9IE1PREFMUFJPRFVDVE5BTUUuaW5uZXJIVE1MO1xyXG4gIHByb2R1Y3QuaW1nID0gTU9EQUxQSUNUVVJFLnNyYztcclxuICBwcm9kdWN0LnF1YW50aXR5ID0gTU9EQUxRVUFOVElUWS50ZXh0Q29udGVudDtcclxuXHJcbiAgY29uc3QgZm91bmRQcm9kdWN0SW5CYXNrZXQgPSBwcm9kdWN0QmFza2V0QXJyLnNvbWUoZWwgPT4gZWwudGl0bGUgPT09IHByb2R1Y3QudGl0bGUpO1xyXG5cclxuICBpZiAoZm91bmRQcm9kdWN0SW5CYXNrZXQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdmb3VuZCcpO1xyXG4gIH1cclxuICBpZiAoIWZvdW5kUHJvZHVjdEluQmFza2V0KSB7XHJcbiAgICBwcm9kdWN0QmFza2V0QXJyLnB1c2gocHJvZHVjdCk7XHJcbiAgICBjb25zb2xlLmxvZygnaXRlbSBhZGRlZCcpO1xyXG4gIH1cclxuXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdEJhc2tldEFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgQkFTS0VUUFJPRFVDVFMuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGBcclxuICAgICAgPGxpIGNsYXNzPVwiaXRlbXNfX3Byb2R1Y3RcIj5cclxuICAgICAgICAgIDxoNCBjbGFzcz1cInByb2R1Y3RfX3RpdGxlXCI+JHtwcm9kdWN0LnRpdGxlfTwvaDQ+XHJcbiAgICAgICAgICA8aW1nIGNsYXNzPVwicHJvZHVjdF9faW1nXCIgc3JjPVwiJHtwcm9kdWN0LmltZ31cIiBhbHQ9XCJcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fcXVhbnRpdHlcIj4ke3Byb2R1Y3QucXVhbnRpdHl9PC9zcGFuPlxyXG4gICAgICA8L2xpPlxyXG4gICAgYClcclxuICB9XHJcbiAgXHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gb3BlbkJhc2tldEljb24oKSB7XHJcbiAgYmFza2V0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5CYXNrZXQoKSB7XHJcbiAgaWYgKHRvdGFsUHJpY2UubGVuZ3RoID4gMCkge1xyXG4gICAgbGV0IG51bUl0ZW1zID0gcGFyc2VJbnQoKE1PREFMUVVBTlRJVFkudGV4dENvbnRlbnQpLnJlcGxhY2UoL1teXFxkLl0vZywgJycpKTtcclxuICAgIGNvdW50ICs9IG51bUl0ZW1zO1xyXG4gICAgQ0FSRElURU1TLmlubmVySFRNTCA9IGBJdGVtczogJHtjb3VudH1gO1xyXG4gICAgSVRFTVNCQVNLRVQuaW5uZXJIVE1MID0gY291bnQ7XHJcbiAgfVxyXG4gIGFkZFByb2R1Y3RzVG9CYXNrZXQoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHRvUmVzZXRCYXNrZXQoKSB7XHJcbiAgY291bnQgPSAwO1xyXG4gIFRPVEFMUFJJQ0UuaW5uZXJUZXh0ID0gMDtcclxuICBJVEVNU0JBU0tFVC5pbm5lckhUTUwgPSAnJztcclxuICBDQVJESVRFTVMuaW5uZXJIVE1MID0gMDtcclxuICB0b3RhbFByaWNlID0gW107XHJcbiAgXHJcbiAgY29uc3QgUkVNT1ZFSU1HID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltZ2l0ZW1zJyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBSRU1PVkVJTUcubGVuZ3RoOyBpKyspIHtcclxuICAgIFJFTU9WRUlNR1tpXS5zcmMgPSAnJztcclxuICB9XHJcblxyXG4gIGNvbnN0IFJFTU9WRUlNR0lURU1TID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltZ0l0ZW1zUXVhbnRpdHknKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFJFTU9WRUlNR0lURU1TLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBSRU1PVkVJTUdJVEVNU1tpXS5pbm5lclRleHQgPSAnJztcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjbG9zZUJhc2tldCgpIHtcclxuICBiYXNrZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb3JkZXJCYXNrZXQoKSB7XHJcbiAgdG9SZXNldEJhc2tldCgpO1xyXG4gIGNsb3NlQmFza2V0KCk7XHJcbn07XHJcblxyXG5jb25zdCBCVE5NQUlMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ0bk1haWwnKTtcclxuY29uc3QgTU9EQUxFTUFJTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1lbWFpbF9fYmFjaycpO1xyXG5jb25zdCBDTE9TRU1PREFMTUFJTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxNYWlsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b0Nsb3NlTWFpbCk7XHJcbmNvbnN0IEJUTlNFTkQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuTmFtZScpO1xyXG5jb25zdCBJTlBVVE5BTUUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dCcpO1xyXG5jb25zdCBJTlBVVE1BSUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKTtcclxuY29uc3QgTU9EQUxTVUNDRVNTID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Y2Nlc3MnKTtcclxuY29uc3QgQlROQ0xPU0VTVUMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ2xvc2VNZGxTdWMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvQ2xvc2VNb2RhbFN1Y2Nzc2VjKTtcclxuXHJcbkJUTlNFTkQuZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcbiAgZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNhdmVVc2VyTmFtZSk7XHJcbiAgfSk7XHJcblxyXG5mdW5jdGlvbiBzYXZlVXNlck5hbWUoKSB7XHJcbiAgaWYgKElOUFVUTkFNRS52YWx1ZS5sZW5ndGggIT09IDAgJiYgSU5QVVROQU1FLnZhbHVlICE9PSBcIlBsZWFzZSBlbnRlciB5b3VyIG5hbWVcIiAmJiBJTlBVVE1BSUwudmFsdWUgIT09IFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWxcIikge1xyXG4gICAgTU9EQUxFTUFJTC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIk5hbWVcIiwgSU5QVVROQU1FLnZhbHVlKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiRW1haWxcIiwgSU5QVVRNQUlMLnZhbHVlKTtcclxuICAgIGZ1bmN0aW9uIG9wZW5zdWNjZXNzKCkge1xyXG4gICAgTU9EQUxTVUNDRVNTLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIGNvbnN0IE5BTUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpO1xyXG4gICAgTkFNRS5pbm5lckhUTUwgPSBJTlBVVE5BTUUudmFsdWU7XHJcbiAgfVxyXG4gIG9wZW5zdWNjZXNzKClcclxuICB9IGVsc2UgXHJcbiAgICAgIElOUFVUTkFNRS52YWx1ZSA9IFwiUGxlYXNlIGVudGVyIHlvdXIgbmFtZVwiO1xyXG4gICAgICBJTlBVVE1BSUwudmFsdWUgPSBcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsXCI7XHJcbiAgXHJcbn07XHJcblxyXG5mdW5jdGlvbiB0b0Nsb3NlTW9kYWxTdWNjc3NlYygpIHtcclxuICBNT0RBTFNVQ0NFU1Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59O1xyXG5cclxuQlROTUFJTC5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcclxuICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1haWwpO1xyXG4gIH0pO1xyXG5cclxuZnVuY3Rpb24gb3Blbk1haWwoKSB7XHJcbiAgTU9EQUxFTUFJTC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbn07XHJcblxyXG5mdW5jdGlvbiB0b0Nsb3NlTWFpbCgpIHtcclxuICBNT0RBTEVNQUlMLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxufTtcclxuXHJcblxyXG4gIFxyXG5cclxufSk7Il19
