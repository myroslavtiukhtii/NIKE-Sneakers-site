document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header");e.querySelector(".burger").addEventListener("click",()=>{e.classList.toggle("header--menu-active")}),window.addEventListener("scroll",function(){var t=document.querySelectorAll(".reveal");for(let e=0;e<t.length;e++){var n=window.innerHeight;t[e].getBoundingClientRect().top<n-150?t[e].classList.add("active"):t[e].classList.remove("active")}});const t=document.getElementById("upbtn");window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?t.style.display="flex":t.style.display="none"},t.addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0});let n=[{productTitle:"Air Maxi",productImg:"./img/topsneakers-image-1.png",productPrice:120},{productTitle:"React Gusto",productImg:"./img/topsneakers-image-2.png",productPrice:220},{productTitle:"Air Mini",productImg:"./img/topsneakers-image-3.png",productPrice:203},{productTitle:"Air Super",productImg:"./img/topsneakers-image-1.png",productPrice:240},{productTitle:"Reactis Peresto",productImg:"./img/topsneakers-image-2.png",productPrice:120}];const c=document.querySelector(".topsneakers__list");for(let e=0;e<n.length;e++)c.insertAdjacentHTML("beforeend",`
      <div class="sneakers-list__item">
        <img class="picture" src="${n[e].productImg}" alt="${n[e].productTitle}">
        <h3 class="productName">
            ${n[e].productTitle}
        </h3>
        <a class="link modal-link" aria-label="Icon link to modal window">
            $${n[e].productPrice}
            <svg class="icon">
                <use xlink:href="img/sprite.svg#new-link-icon"></use>
            </svg>
        </a>
      </div>`);tns({container:".my-slider",loop:!1,items:1.1,slideBy:1,nav:!1,autoplay:!1,fixedWidth:240,gutter:10,center:!1,edgePadding:10,speed:400,autoplayButtonOutput:!1,mouseDrag:!0,controlsContainer:"#customize-controls",responsive:{768:{items:2.1},1170:{items:3,gutter:120,fixedWidth:300}}});let l=document.querySelectorAll(".modal-link"),o=document.querySelector(".topsneakers__modal--back");document.getElementById("close-window").addEventListener("click",g),document.getElementById("cancel-order").addEventListener("click",g),document.getElementById("orderProduct").addEventListener("click",function(){L.push(parseInt(y.textContent.replace(/[^\d.]/g,"")));let t=0;for(let e=0;e<L.length;e++)t+=L[e];s.innerText="$ "+t,o.style.display="none",function(){{var e;0<L.length&&(e=parseInt(p.textContent.replace(/[^\d.]/g,"")),k+=e,f.innerHTML="Items: "+k,T.innerHTML=k)}!function(){let t={};{var e;t.title=a.innerHTML,t.img=u.src,t.quantity=Number(p.textContent),M.innerHTML="",h.some(e=>e.title===t.title)?(e=h.findIndex(e=>e.title==t.title),h[e].quantity=h[e].quantity+t.quantity):0<t.quantity&&h.push(t)}console.log(h),function(){for(let e=0;e<h.length;e++)M.insertAdjacentHTML("beforeend",`
      <li class="items__product">
          <span class="product__count">${e+1}</span>
          <h4 class="product__title">${h[e].title}</h4>
          <span class="product__quantity">${h[e].quantity}</span>
          <img class="product__img" src="${h[e].img}" alt="${h[e].title}">
      </li>
    `)}()}()}()});const i=document.getElementById("date"),r=document.getElementById("arrival");document.getElementsByClassName("price");const d=document.getElementById("modalPrice");document.querySelectorAll(".productName");const s=document.getElementById("totalPrice"),a=document.getElementById("product"),u=document.getElementById("productPicture");document.querySelectorAll(".picture");const m=document.querySelectorAll(".sneakers-list__item");function g(){o.style.display="none",y.innerHTML=0}l.forEach(function(e){e.addEventListener("click",function(){m.forEach(function(e){e.addEventListener("click",function(){var e=[],e=(e.push(this.innerText.replace(/[0-9, $, \n]/g,"")),a.innerHTML=e[0],this.querySelector(".picture"));u.src=e.src,this.querySelector(".link");d.innerHTML=this.textContent,y.innerHTML=this.textContent})}),p.innerHTML=1;var e=document.getElementById("orderNumber");e.innerHTML=Math.ceil(2e3*Math.random()),e=new Date,i.innerHTML=e.getHours()+":"+e.getMinutes()+"-"+e.getDate()+"/"+e.getMonth(),r.innerHTML=e.getDate()+5+"/"+e.getMonth(),o.style.display="block"})});const p=document.getElementById("quantity");document.getElementById("minusItem").addEventListener("click",function(){{var e;p.innerHTML--,0<p.innerHTML?(v=p.innerHTML,e=parseInt(d.textContent.replace(/[^\d.]/g,"")),y.innerHTML="$ "+v*e):0==p.innerHTML?y.innerHTML=0:p.innerHTML=0}}),document.getElementById("plusItem").addEventListener("click",function(){p.innerHTML++,v=p.innerHTML;var e=parseInt(d.textContent.replace(/[^\d.]/g,""));E=y.innerHTML="$ "+v*e});const y=document.getElementById("modalTotalPrice");let v,E;let L=[];document.getElementById("basketBtn").addEventListener("click",function(){I.classList.toggle("active")});let I=document.querySelector(".basket");document.getElementById("closeBasket").addEventListener("click",H);const T=document.getElementById("basketItems");document.getElementById("resetBasket").addEventListener("click",B),document.getElementById("orderBasket").addEventListener("click",function(){B(),H()});const f=document.getElementById("itemsCard");let k=0;const M=document.querySelector(".basket-items__list");let h=[];function B(){k=0,s.innerText=0,T.innerHTML="",M.innerHTML="",f.innerHTML=0,L=[],h=[];var t=document.querySelectorAll(".imgitems");for(let e=0;e<t.length;e++)t[e].src="";var n=document.querySelectorAll(".imgItemsQuantity");for(let e=0;e<n.length;e++)n[e].innerText=""}function H(){I.classList.toggle("active")}var q=document.querySelectorAll(".btnMail");const S=document.querySelector(".modal-email__back");document.getElementById("cancelMail").addEventListener("click",function(){S.style.display="none"});var _=document.querySelectorAll(".btnName");const x=document.getElementById("text"),b=document.getElementById("email"),P=document.getElementById("success");document.getElementById("btnCloseMdlSuc").addEventListener("click",function(){P.style.display="none"});function A(){0!==x.value.length&&"Please enter your name"!==x.value&&"Please enter your email"!==b.value?(S.style.display="none",localStorage.setItem("Name",x.value),localStorage.setItem("Email",b.value),P.style.display="flex",document.querySelector(".name").innerHTML=x.value):x.value="Please enter your name",b.value="Please enter your email"}function $(){S.style.display="flex"}_.forEach(function(e){e.addEventListener("click",A)}),q.forEach(function(e){e.addEventListener("click",$)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJIRUFERVIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwid2luZG93IiwibGV0IiwicmV2ZWFsRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYWRkIiwicmVtb3ZlIiwiVVBCVVRUT04iLCJnZXRFbGVtZW50QnlJZCIsIm9uc2Nyb2xsIiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsInByb2R1Y3RJdGVtcyIsInByb2R1Y3RUaXRsZSIsInByb2R1Y3RJbWciLCJwcm9kdWN0UHJpY2UiLCJTTkVBS0VSU0xJU1QiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJ0bnMiLCJjb250YWluZXIiLCJsb29wIiwiaXRlbXMiLCJzbGlkZUJ5IiwibmF2IiwiYXV0b3BsYXkiLCJmaXhlZFdpZHRoIiwiZ3V0dGVyIiwiY2VudGVyIiwiZWRnZVBhZGRpbmciLCJzcGVlZCIsImF1dG9wbGF5QnV0dG9uT3V0cHV0IiwibW91c2VEcmFnIiwiY29udHJvbHNDb250YWluZXIiLCJyZXNwb25zaXZlIiwiNzY4IiwiMTE3MCIsIm1vZGFsQnRuQmFza2V0IiwibW9kYWwiLCJjbG9zZVdpbmRvdyIsInRvdGFsUHJpY2UiLCJwdXNoIiwicGFyc2VJbnQiLCJNT0RBTFRPVEFMUFJJQ0UiLCJyZXBsYWNlIiwic3VtVG90YWxQcmljZSIsIlRPVEFMUFJJQ0UiLCJpbm5lclRleHQiLCJudW1JdGVtcyIsIk1PREFMUVVBTlRJVFkiLCJjb3VudCIsIkNBUkRJVEVNUyIsImlubmVySFRNTCIsIklURU1TQkFTS0VUIiwiYWRkUHJvZHVjdHNUb0Jhc2tldCIsInByb2R1Y3QiLCJpbmRleEV4aXN0UHJvZHVjdCIsInRpdGxlIiwiTU9EQUxQUk9EVUNUTkFNRSIsImltZyIsIk1PREFMUElDVFVSRSIsInNyYyIsInF1YW50aXR5IiwiTnVtYmVyIiwidGV4dENvbnRlbnQiLCJCQVNLRVRQUk9EVUNUUyIsInByb2R1Y3RCYXNrZXRBcnIiLCJzb21lIiwiZSIsImZpbmRJbmRleCIsImNvbnNvbGUiLCJsb2ciLCJEQVRFIiwiQVJSSVZBTCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJNT0RBTFBSSUNFIiwiU05FQUtFUklURU0iLCJmb3JFYWNoIiwicHJvZHVjdE5hbWUiLCJpbWdzcmMiLCJ0aGlzIiwiT1JERVJOVU1CRVIiLCJNYXRoIiwiY2VpbCIsInJhbmRvbSIsIm5ld0RhdGUiLCJEYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwic3VtIiwibnVtYmVyIiwidG90YWxQcmljZVZhbHVlIiwiYmFza2V0IiwiY2xvc2VCYXNrZXQiLCJ0b1Jlc2V0QmFza2V0IiwiUkVNT1ZFSU1HIiwiUkVNT1ZFSU1HSVRFTVMiLCJCVE5NQUlMIiwiTU9EQUxFTUFJTCIsIkJUTlNFTkQiLCJJTlBVVE5BTUUiLCJJTlBVVE1BSUwiLCJNT0RBTFNVQ0NFU1MiLCJzYXZlVXNlck5hbWUiLCJ2YWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJvcGVuTWFpbCJdLCJtYXBwaW5ncyI6IkFBQUFBLFNBQUFDLGlCQUFBLG1CQUFBLEtBRUEsTUFBQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUFBLEVBQ0FELEVBQUFDLGNBQUEsU0FBQSxFQUVBRixpQkFBQSxRQUFBLEtBQ0FDLEVBQUFFLFVBQUFDLE9BQUEscUJBQUEsQ0FDQSxDQUFBLEVBa0JBQyxPQUFBTCxpQkFBQSxTQWhCQSxXQUNBTSxJQUFBQyxFQUFBUixTQUFBUyxpQkFBQSxTQUFBLEVBRUEsSUFBQUYsSUFBQUcsRUFBQSxFQUFBQSxFQUFBRixFQUFBRyxPQUFBRCxDQUFBLEdBQUEsQ0FDQUgsSUFBQUssRUFBQU4sT0FBQU8sWUFD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R0FDQUEsRUFBQWhGLGlCQUFBLFFBQUFxSCxDQUFBLENBQ0EsQ0FBQSxFQXVCQU4sRUFBQXRCLFFBQUEsU0FBQVQsR0FDQUEsRUFBQWhGLGlCQUFBLFFBQUF5SCxDQUFBLENBQ0EsQ0FBQSxDQWFBLENBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcblxyXG5jb25zdCBIRUFERVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyk7XHJcbmNvbnN0IEJVVFRPTiA9IEhFQURFUi5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XHJcblxyXG5CVVRUT04uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBIRUFERVIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLS1tZW51LWFjdGl2ZScpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHJldmVhbFdoZW5TY3JvbGwoKSB7XHJcbiAgbGV0IHJldmVhbEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZlYWxcIik7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmV2ZWFsRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgZWxlbWVudFRvcCA9IHJldmVhbEVsZW1lbnRzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIGxldCBlbGVtZW50VmlzaWJsZSA9IDE1MDtcclxuXHJcbiAgICBpZiAoZWxlbWVudFRvcCA8IHdpbmRvd0hlaWdodCAtIGVsZW1lbnRWaXNpYmxlKSB7XHJcbiAgICAgIHJldmVhbEVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXZlYWxFbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuICBcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgcmV2ZWFsV2hlblNjcm9sbCk7XHJcblxyXG5jb25zdCBVUEJVVFRPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGJ0bicpO1xyXG53aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtzY3JvbGxGdW5jdGlvbigpfTtcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbEZ1bmN0aW9uKCkge1xyXG4gIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA+IDIwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiAyMCkge1xyXG4gICAgVVBCVVRUT04uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBVUEJVVFRPTi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59O1xyXG5cclxuVVBCVVRUT04uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b1VwV2luZG93KTtcclxuZnVuY3Rpb24gdG9VcFdpbmRvdygpIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XHJcbn07XHJcblxyXG5sZXQgcHJvZHVjdEl0ZW1zID0gW1xyXG4gIHtcclxuICAgIHByb2R1Y3RUaXRsZTogXCJBaXIgTWF4aVwiLFxyXG4gICAgcHJvZHVjdEltZzogXCIuL2ltZy90b3BzbmVha2Vycy1pbWFnZS0xLnBuZ1wiLFxyXG4gICAgcHJvZHVjdFByaWNlOiAxMjAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiUmVhY3QgR3VzdG9cIixcclxuICAgIHByb2R1Y3RJbWc6IFwiLi9pbWcvdG9wc25lYWtlcnMtaW1hZ2UtMi5wbmdcIixcclxuICAgIHByb2R1Y3RQcmljZTogMjIwXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiQWlyIE1pbmlcIixcclxuICAgIHByb2R1Y3RJbWc6IFwiLi9pbWcvdG9wc25lYWtlcnMtaW1hZ2UtMy5wbmdcIixcclxuICAgIHByb2R1Y3RQcmljZTogMjAzXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm9kdWN0VGl0bGU6IFwiQWlyIFN1cGVyXCIsXHJcbiAgICBwcm9kdWN0SW1nOiBcIi4vaW1nL3RvcHNuZWFrZXJzLWltYWdlLTEucG5nXCIsXHJcbiAgICBwcm9kdWN0UHJpY2U6IDI0MFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvZHVjdFRpdGxlOiBcIlJlYWN0aXMgUGVyZXN0b1wiLFxyXG4gICAgcHJvZHVjdEltZzogXCIuL2ltZy90b3BzbmVha2Vycy1pbWFnZS0yLnBuZ1wiLFxyXG4gICAgcHJvZHVjdFByaWNlOiAxMjBcclxuICB9XHJcbl07XHJcblxyXG5jb25zdCBTTkVBS0VSU0xJU1QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wc25lYWtlcnNfX2xpc3QnKTtcclxuXHJcbmZ1bmN0aW9uIGluc2VydFByb2R1Y3RzVG9MaXN0KCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIFNORUFLRVJTTElTVC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgXHJcbiAgICAgIGBcclxuICAgICAgPGRpdiBjbGFzcz1cInNuZWFrZXJzLWxpc3RfX2l0ZW1cIj5cclxuICAgICAgICA8aW1nIGNsYXNzPVwicGljdHVyZVwiIHNyYz1cIiR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RJbWd9XCIgYWx0PVwiJHtwcm9kdWN0SXRlbXNbaV0ucHJvZHVjdFRpdGxlfVwiPlxyXG4gICAgICAgIDxoMyBjbGFzcz1cInByb2R1Y3ROYW1lXCI+XHJcbiAgICAgICAgICAgICR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RUaXRsZX1cclxuICAgICAgICA8L2gzPlxyXG4gICAgICAgIDxhIGNsYXNzPVwibGluayBtb2RhbC1saW5rXCIgYXJpYS1sYWJlbD1cIkljb24gbGluayB0byBtb2RhbCB3aW5kb3dcIj5cclxuICAgICAgICAgICAgJCR7cHJvZHVjdEl0ZW1zW2ldLnByb2R1Y3RQcmljZX1cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cclxuICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cImltZy9zcHJpdGUuc3ZnI25ldy1saW5rLWljb25cIj48L3VzZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgPC9hPlxyXG4gICAgICA8L2Rpdj5gKVxyXG4gIH1cclxufTtcclxuXHJcbmluc2VydFByb2R1Y3RzVG9MaXN0KClcclxuXHJcbmNvbnN0IHNsaWRlciA9IHRucyh7XHJcbiAgY29udGFpbmVyOiAnLm15LXNsaWRlcicsXHJcbiAgbG9vcDogZmFsc2UsXHJcbiAgaXRlbXM6IDEuMSxcclxuICBzbGlkZUJ5OiAxLFxyXG4gIG5hdjogZmFsc2UsICAgIFxyXG4gIGF1dG9wbGF5OiBmYWxzZSxcclxuICBmaXhlZFdpZHRoOiAyNDAsXHJcbiAgZ3V0dGVyOiAxMCxcclxuICBjZW50ZXI6IGZhbHNlLFxyXG4gIGVkZ2VQYWRkaW5nOiAxMCxcclxuICBzcGVlZDogNDAwLFxyXG4gIGF1dG9wbGF5QnV0dG9uT3V0cHV0OiBmYWxzZSxcclxuICBtb3VzZURyYWc6IHRydWUsXHJcbiAgY29udHJvbHNDb250YWluZXI6IFwiI2N1c3RvbWl6ZS1jb250cm9sc1wiLFxyXG4gIHJlc3BvbnNpdmU6IHtcclxuICAgICAgNzY4OiB7XHJcbiAgICAgICAgICBpdGVtczogMi4xLFxyXG4gICAgICB9LFxyXG4gICAgICAxMTcwOiB7XHJcbiAgICAgICAgICBpdGVtczogMyxcclxuICAgICAgICAgIGd1dHRlcjogMTIwLFxyXG4gICAgICAgICAgZml4ZWRXaWR0aDogMzAwLFxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG5sZXQgbW9kYWxCdG5CYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtbGluaycpO1xyXG5sZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wc25lYWtlcnNfX21vZGFsLS1iYWNrJyk7XHJcbmxldCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS13aW5kb3cnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlV2luZG93KTtcclxubGV0IGNhbmNlbE9yZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbC1vcmRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VXaW5kb3cpO1xyXG5sZXQgb3JkZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJQcm9kdWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVdpbk9wZW5CYXNrdCk7XHJcbmxldCBjbGlja2VkID0gZmFsc2U7XHJcbmNvbnN0IERBVEUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpO1xyXG5jb25zdCBBUlJJVkFMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fycml2YWwnKTtcclxuY29uc3QgSVRFTVBSSUNFID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJpY2UnKTtcclxuY29uc3QgTU9EQUxQUklDRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFByaWNlJyk7XHJcbmNvbnN0IFBST0RVQ1ROQU1FID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3ROYW1lJyk7XHJcbmNvbnN0IFRPVEFMUFJJQ0UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWxQcmljZScpO1xyXG5jb25zdCBNT0RBTFBST0RVQ1ROQU1FID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3QnKTtcclxuY29uc3QgTU9EQUxQSUNUVVJFID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3RQaWN0dXJlJyk7XHJcbmNvbnN0IElNRyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5waWN0dXJlJyk7XHJcbmNvbnN0IFNORUFLRVJJVEVNID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNuZWFrZXJzLWxpc3RfX2l0ZW0nKTtcclxuXHJcbmZ1bmN0aW9uIGdldERhdGFGcm9tUHJvZHVjdCgpIHtcclxuICBTTkVBS0VSSVRFTS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICBsZXQgcHJvZHVjdE5hbWUgPSBbXTtcclxuICAgICAgcHJvZHVjdE5hbWUucHVzaCgodGhpcy5pbm5lclRleHQpLnJlcGxhY2UoL1swLTksICQsIFxcbl0vZywgJycpKTtcclxuICAgICAgTU9EQUxQUk9EVUNUTkFNRS5pbm5lckhUTUwgPSBwcm9kdWN0TmFtZVswXTtcclxuICBcclxuICAgICAgbGV0IGltZ3NyYyA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBpY3R1cmUnKTtcclxuICAgICAgTU9EQUxQSUNUVVJFLnNyYyA9IGltZ3NyYy5zcmM7XHJcblxyXG4gICAgICBsZXQgcHJpY2UgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5saW5rJyk7XHJcbiAgICAgIE1PREFMUFJJQ0UuaW5uZXJIVE1MID0gdGhpcy50ZXh0Q29udGVudDtcclxuICAgICAgTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IHRoaXMudGV4dENvbnRlbnQ7XHJcbiAgICAgIFxyXG4gIFxyXG4gICAgfSlcclxuICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldFByaWNlRnJvbVByb2R1Y3QoKSB7XHJcbiAgbW9kYWxCdG5CYXNrZXQuZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGdldERhdGFGcm9tUHJvZHVjdCgpO1xyXG4gICAgICBnZXRNb2RhbERldGFpbHMoKTtcclxuICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5nZXRQcmljZUZyb21Qcm9kdWN0KCk7XHJcblxyXG5mdW5jdGlvbiBnZXRNb2RhbERldGFpbHMoKSB7XHJcbiAgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPSAxO1xyXG5cclxuICBjb25zdCBPUkRFUk5VTUJFUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmRlck51bWJlcicpO1xyXG4gIE9SREVSTlVNQkVSLmlubmVySFRNTCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMjAwMCk7XHJcblxyXG4gIGxldCBuZXdEYXRlID0gbmV3IERhdGUoKTtcclxuICBEQVRFLmlubmVySFRNTCA9IG5ld0RhdGUuZ2V0SG91cnMoKStcIjpcIisgbmV3RGF0ZS5nZXRNaW51dGVzKCkrIFwiLVwiICsgbmV3RGF0ZS5nZXREYXRlKCkgKyBcIi9cIiArIG5ld0RhdGUuZ2V0TW9udGgoKTtcclxuICBBUlJJVkFMLmlubmVySFRNTCA9IG5ld0RhdGUuZ2V0RGF0ZSgpICsgNSArIFwiL1wiICsgbmV3RGF0ZS5nZXRNb250aCgpO1xyXG5cclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2xvc2VXaW5kb3coKSB7XHJcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIE1PREFMVE9UQUxQUklDRS5pbm5lckhUTUwgPSAwO1xyXG59O1xyXG5cclxuY29uc3QgTU9EQUxRVUFOVElUWSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWFudGl0eScpO1xyXG5jb25zdCBCVE5NSU5VU0lURU0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXNJdGVtJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtaW51c1Byb2R1Y3RzKTtcclxuY29uc3QgQlROUExVU0lURU0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGx1c0l0ZW0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsdXNQcm9kdWN0cyk7XHJcbmNvbnN0IE1PREFMVE9UQUxQUklDRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRvdGFsUHJpY2UnKTtcclxubGV0IG51bWJlcjtcclxubGV0IHRvdGFsUHJpY2VWYWx1ZTtcclxuXHJcbmZ1bmN0aW9uIG1pbnVzUHJvZHVjdHMoKSB7XHJcbiAgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwtLTtcclxuICBpZiAoTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPiAwKSB7XHJcbiAgICBudW1iZXIgPSBNT0RBTFFVQU5USVRZLmlubmVySFRNTDtcclxuICAgIGxldCBzdW0gPSBwYXJzZUludCgoTU9EQUxQUklDRS50ZXh0Q29udGVudCkucmVwbGFjZSgvW15cXGQuXS9nLCAnJykpO1xyXG4gICAgTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IGAkICR7bnVtYmVyICogc3VtfWA7XHJcbiAgfSBlbHNlIGlmIChNT0RBTFFVQU5USVRZLmlubmVySFRNTCA9PSAwKSB7XHJcbiAgICBNT0RBTFRPVEFMUFJJQ0UuaW5uZXJIVE1MID0gMDtcclxuICB9IGVsc2UgTU9EQUxRVUFOVElUWS5pbm5lckhUTUwgPSAwO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcGx1c1Byb2R1Y3RzKCkge1xyXG4gIE1PREFMUVVBTlRJVFkuaW5uZXJIVE1MKys7XHJcbiAgbnVtYmVyID0gTU9EQUxRVUFOVElUWS5pbm5lckhUTUw7XHJcbiAgbGV0IHN1bSA9IHBhcnNlSW50KChNT0RBTFBSSUNFLnRleHRDb250ZW50KS5yZXBsYWNlKC9bXlxcZC5dL2csICcnKSk7XHJcbiAgdG90YWxQcmljZVZhbHVlID0gTU9EQUxUT1RBTFBSSUNFLmlubmVySFRNTCA9IGAkICR7bnVtYmVyICogc3VtfWA7XHJcbn07XHJcblxyXG5sZXQgdG90YWxQcmljZSA9IFtdO1xyXG5cclxuZnVuY3Rpb24gY2xvc2VXaW5PcGVuQmFza3QoKSB7XHJcbiAgdG90YWxQcmljZS5wdXNoKHBhcnNlSW50KChNT0RBTFRPVEFMUFJJQ0UudGV4dENvbnRlbnQpLnJlcGxhY2UoL1teXFxkLl0vZywgJycpKSk7XHJcbiAgbGV0IHN1bVRvdGFsUHJpY2UgPSAwO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUHJpY2UubGVuZ3RoOyBpKyspIHtcclxuICAgIHN1bVRvdGFsUHJpY2UgKz0gdG90YWxQcmljZVtpXTtcclxuICB9O1xyXG5cclxuICBUT1RBTFBSSUNFLmlubmVyVGV4dCA9IGAkICR7c3VtVG90YWxQcmljZX1gO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICBvcGVuQmFza2V0KCk7XHJcbn07XHJcblxyXG5jb25zdCBCQVNLRVRCVVRUT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFza2V0QnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0SWNvbik7XHJcbmxldCBiYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0Jyk7XHJcbmxldCB0b0Nsb3NlQmFza2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlQmFza2V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJhc2tldCk7XHJcbmNvbnN0IElURU1TQkFTS0VUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jhc2tldEl0ZW1zJyk7XHJcbmNvbnN0IFJFU0VUQkFTS0VUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0QmFza2V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b1Jlc2V0QmFza2V0KTtcclxuY29uc3QgT1JERVJCQVNLRVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JkZXJCYXNrZXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9yZGVyQmFza2V0KTtcclxuY29uc3QgQ0FSRElURU1TID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1zQ2FyZCcpO1xyXG5cclxubGV0IGltZztcclxubGV0IGltZ0l0ZW1zUXVhbnRpdHk7XHJcbmxldCBjb3VudCA9IDA7XHJcblxyXG5jb25zdCBCQVNLRVRQUk9EVUNUUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXQtaXRlbXNfX2xpc3QnKTtcclxubGV0IHByb2R1Y3RCYXNrZXRBcnIgPSBbXTtcclxuXHJcblxyXG5mdW5jdGlvbiBhZGRQcm9kdWN0c1RvQmFza2V0KCkge1xyXG5cclxuICBsZXQgcHJvZHVjdCA9IHt9O1xyXG4gIHByb2R1Y3QudGl0bGUgPSBNT0RBTFBST0RVQ1ROQU1FLmlubmVySFRNTDtcclxuICBwcm9kdWN0LmltZyA9IE1PREFMUElDVFVSRS5zcmM7XHJcbiAgcHJvZHVjdC5xdWFudGl0eSA9IE51bWJlcihNT0RBTFFVQU5USVRZLnRleHRDb250ZW50KTtcclxuXHJcbiAgQkFTS0VUUFJPRFVDVFMuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gIGlmIChwcm9kdWN0QmFza2V0QXJyLnNvbWUoZSA9PiBlLnRpdGxlID09PSBwcm9kdWN0LnRpdGxlKSkge1xyXG5cclxuICAgIGxldCBpbmRleEV4aXN0UHJvZHVjdCA9IHByb2R1Y3RCYXNrZXRBcnIuZmluZEluZGV4KChlID0+IGUudGl0bGUgPT0gcHJvZHVjdC50aXRsZSkpO1xyXG4gICAgcHJvZHVjdEJhc2tldEFycltpbmRleEV4aXN0UHJvZHVjdF0ucXVhbnRpdHkgPSBwcm9kdWN0QmFza2V0QXJyW2luZGV4RXhpc3RQcm9kdWN0XS5xdWFudGl0eSArIHByb2R1Y3QucXVhbnRpdHk7XHJcblxyXG5cclxuICB9IGVsc2UgaWYgKHByb2R1Y3QucXVhbnRpdHkgPiAwKSB7XHJcbiAgICBwcm9kdWN0QmFza2V0QXJyLnB1c2gocHJvZHVjdCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc29sZS5sb2cocHJvZHVjdEJhc2tldEFycik7XHJcblxyXG4gIHJlbmRlclByb2R1Y3RMSXN0KCk7XHJcblxyXG5cclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3RMSXN0KCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdEJhc2tldEFyci5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIEJBU0tFVFBST0RVQ1RTLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBgXHJcbiAgICAgIDxsaSBjbGFzcz1cIml0ZW1zX19wcm9kdWN0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb2R1Y3RfX2NvdW50XCI+JHtpICsgMX08L3NwYW4+XHJcbiAgICAgICAgICA8aDQgY2xhc3M9XCJwcm9kdWN0X190aXRsZVwiPiR7cHJvZHVjdEJhc2tldEFycltpXS50aXRsZX08L2g0PlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0X19xdWFudGl0eVwiPiR7cHJvZHVjdEJhc2tldEFycltpXS5xdWFudGl0eX08L3NwYW4+XHJcbiAgICAgICAgICA8aW1nIGNsYXNzPVwicHJvZHVjdF9faW1nXCIgc3JjPVwiJHtwcm9kdWN0QmFza2V0QXJyW2ldLmltZ31cIiBhbHQ9XCIke3Byb2R1Y3RCYXNrZXRBcnJbaV0udGl0bGV9XCI+XHJcbiAgICAgIDwvbGk+XHJcbiAgICBgKVxyXG4gIH07XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gb3BlbkJhc2tldEljb24oKSB7XHJcbiAgYmFza2V0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb3BlbkJhc2tldCgpIHtcclxuICBpZiAodG90YWxQcmljZS5sZW5ndGggPiAwKSB7XHJcbiAgICBsZXQgbnVtSXRlbXMgPSBwYXJzZUludCgoTU9EQUxRVUFOVElUWS50ZXh0Q29udGVudCkucmVwbGFjZSgvW15cXGQuXS9nLCAnJykpO1xyXG4gICAgY291bnQgKz0gbnVtSXRlbXM7XHJcbiAgICBDQVJESVRFTVMuaW5uZXJIVE1MID0gYEl0ZW1zOiAke2NvdW50fWA7XHJcbiAgICBJVEVNU0JBU0tFVC5pbm5lckhUTUwgPSBjb3VudDtcclxuICB9XHJcbiAgYWRkUHJvZHVjdHNUb0Jhc2tldCgpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdG9SZXNldEJhc2tldCgpIHtcclxuICBjb3VudCA9IDA7XHJcbiAgVE9UQUxQUklDRS5pbm5lclRleHQgPSAwO1xyXG4gIElURU1TQkFTS0VULmlubmVySFRNTCA9ICcnO1xyXG4gIEJBU0tFVFBST0RVQ1RTLmlubmVySFRNTCA9ICcnO1xyXG4gIENBUkRJVEVNUy5pbm5lckhUTUwgPSAwO1xyXG4gIHRvdGFsUHJpY2UgPSBbXTtcclxuICBwcm9kdWN0QmFza2V0QXJyID0gW107XHJcbiAgXHJcbiAgY29uc3QgUkVNT1ZFSU1HID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltZ2l0ZW1zJyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBSRU1PVkVJTUcubGVuZ3RoOyBpKyspIHtcclxuICAgIFJFTU9WRUlNR1tpXS5zcmMgPSAnJztcclxuICB9XHJcblxyXG4gIGNvbnN0IFJFTU9WRUlNR0lURU1TID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltZ0l0ZW1zUXVhbnRpdHknKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFJFTU9WRUlNR0lURU1TLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBSRU1PVkVJTUdJVEVNU1tpXS5pbm5lclRleHQgPSAnJztcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjbG9zZUJhc2tldCgpIHtcclxuICBiYXNrZXQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvcmRlckJhc2tldCgpIHtcclxuICB0b1Jlc2V0QmFza2V0KCk7XHJcbiAgY2xvc2VCYXNrZXQoKTtcclxufTtcclxuXHJcbmNvbnN0IEJUTk1BSUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuTWFpbCcpO1xyXG5jb25zdCBNT0RBTEVNQUlMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWVtYWlsX19iYWNrJyk7XHJcbmNvbnN0IENMT1NFTU9EQUxNQUlMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbE1haWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvQ2xvc2VNYWlsKTtcclxuY29uc3QgQlROU0VORCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG5OYW1lJyk7XHJcbmNvbnN0IElOUFVUTkFNRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0Jyk7XHJcbmNvbnN0IElOUFVUTUFJTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpO1xyXG5jb25zdCBNT0RBTFNVQ0NFU1MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VjY2VzcycpO1xyXG5jb25zdCBCVE5DTE9TRVNVQyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5DbG9zZU1kbFN1YycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9DbG9zZU1vZGFsU3VjY3NzZWMpO1xyXG5cclxuQlROU0VORC5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcclxuICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2F2ZVVzZXJOYW1lKTtcclxuICB9KTtcclxuXHJcbmZ1bmN0aW9uIHNhdmVVc2VyTmFtZSgpIHtcclxuICBpZiAoSU5QVVROQU1FLnZhbHVlLmxlbmd0aCAhPT0gMCAmJiBJTlBVVE5BTUUudmFsdWUgIT09IFwiUGxlYXNlIGVudGVyIHlvdXIgbmFtZVwiICYmIElOUFVUTUFJTC52YWx1ZSAhPT0gXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbFwiKSB7XHJcbiAgICBNT0RBTEVNQUlMLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTmFtZVwiLCBJTlBVVE5BTUUudmFsdWUpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJFbWFpbFwiLCBJTlBVVE1BSUwudmFsdWUpO1xyXG4gICAgZnVuY3Rpb24gb3BlbnN1Y2Nlc3MoKSB7XHJcbiAgICBNT0RBTFNVQ0NFU1Muc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgY29uc3QgTkFNRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJyk7XHJcbiAgICBOQU1FLmlubmVySFRNTCA9IElOUFVUTkFNRS52YWx1ZTtcclxuICB9XHJcbiAgb3BlbnN1Y2Nlc3MoKVxyXG4gIH0gZWxzZSBcclxuICAgICAgSU5QVVROQU1FLnZhbHVlID0gXCJQbGVhc2UgZW50ZXIgeW91ciBuYW1lXCI7XHJcbiAgICAgIElOUFVUTUFJTC52YWx1ZSA9IFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWxcIjtcclxuICBcclxufTtcclxuXHJcbmZ1bmN0aW9uIHRvQ2xvc2VNb2RhbFN1Y2Nzc2VjKCkge1xyXG4gIE1PREFMU1VDQ0VTUy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbn07XHJcblxyXG5CVE5NQUlMLmZvckVhY2goZnVuY3Rpb24oZSkge1xyXG4gIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTWFpbCk7XHJcbiAgfSk7XHJcblxyXG5mdW5jdGlvbiBvcGVuTWFpbCgpIHtcclxuICBNT0RBTEVNQUlMLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHRvQ2xvc2VNYWlsKCkge1xyXG4gIE1PREFMRU1BSUwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59O1xyXG5cclxuXHJcbiAgXHJcblxyXG59KTsiXX0=
